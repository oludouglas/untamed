export const state = () => ({
    dialog: false,
    image: null,
    loading: false,
    photos: [
        {
            id: 2,
            title: "Caravella",
            imageURL:
                "https://images.unsplash.com/photo-1605370458667-56d9dddabbea?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 3,
            title: "Sony House",
            imageURL:
                "https://images.unsplash.com/photo-1605443791607-80a259dd3c3c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 4,
            title: "Canon House",
            imageURL:
                "https://images.unsplash.com/photo-1605398920523-26470ee935f6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 5,
            title: "Camera House",
            imageURL:
                "https://images.unsplash.com/photo-1523217582562-09d0def993a6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 5,
            title: "Camera House",
            imageURL:
                "https://images.unsplash.com/photo-1416331108676-a22ccb276e35?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 5,
            title: "Camera House",
            imageURL:
                "https://images.unsplash.com/photo-1452626212852-811d58933cae?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },

        {
            id: 3,
            title: "Sony House",
            imageURL:
                "https://images.unsplash.com/photo-1605365070248-299a182a2ca6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 4,
            title: "Canon House",
            imageURL:
                "https://images.unsplash.com/photo-1449844908441-8829872d2607?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 5,
            title: "Camera House",
            imageURL:
                "https://images.unsplash.com/photo-1605020800962-8c58acb6e10b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 5,
            title: "Camera House",
            imageURL:
                "https://images.unsplash.com/photo-1416331108676-a22ccb276e35?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 5,
            title: "Camera House",
            imageURL:
                "https://images.unsplash.com/photo-1452626212852-811d58933cae?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },

        {
            id: 4,
            title: "Canon House",
            imageURL:
                "https://images.unsplash.com/photo-1605406233726-81e6e2f52746?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 5,
            title: "Camera House",
            imageURL:
                "https://images.unsplash.com/photo-1605381078451-a0672a91a4be?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 5,
            title: "Camera House",
            imageURL:
                "https://images.unsplash.com/photo-1605405809561-2ec85c966680?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 5,
            title: "Camera House",
            imageURL:
                "https://images.unsplash.com/photo-1605402185149-f796e03bab7a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },

        {
            id: 5,
            title: "Camera House",
            imageURL:
                "https://images.unsplash.com/photo-1605384937950-3939d04810e6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 5,
            title: "Camera House",
            imageURL:
                "https://images.unsplash.com/photo-1605401443012-7eaeca37b82f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },

        {
            id: 4,
            title: "Canon House",
            imageURL:
                "https://images.unsplash.com/photo-1605401430429-1be9523a39d0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 5,
            title: "Camera House",
            imageURL:
                "https://images.unsplash.com/photo-1605265058762-a9de6ffc71f6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 5,
            title: "Camera House",
            imageURL:
                "https://images.unsplash.com/photo-1605407869548-958d58b7cebc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
        {
            id: 5,
            title: "Camera House",
            imageURL:
                "https://images.unsplash.com/photo-1605420800989-df3eed6214f1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",
            detail_link: "/agents",
            loading: false,
        },
    ]
})

export const mutations = {
    SHOW_DIALOG(state, dialog) {
        state.dialog = dialog
    },
    SET_IMAGE(state, image) {
        state.image = image
    },
}

export const actions = {

    async callAccountReset({ commit, dispatch }, payload) {
        commit("TOGGLE", true)
        await this.$axios.post('/reset-password', payload)
            .then(res => {
                if (res.status === 200) {
                    commit("SET_RESULT", res.data)
                }
            })
            .catch(err => {
                if (err.response.status == 401) {
                    dispatch("logout")
                }
            })
            .finally(() => {
                commit("TOGGLE", false)
            })
    },

    async logout() {
        await this.$auth.logout();
        this.$auth.setUser(null);
    }
}